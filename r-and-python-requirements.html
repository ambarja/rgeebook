<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>R and Python requirements | Earth Engine with R</title>

    <meta name="author" content="rgee team" />
  
   
   <meta name="generator" content="placeholder" />
  <meta property="og:title" content="R and Python requirements | Earth Engine with R" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R and Python requirements | Earth Engine with R" />
  
  
  
  <!-- JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script>
    <script src="libs/header-attrs-2.11/header-attrs.js"></script>
    <script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet" />
    <script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script>
    <script src="libs/bs3compat-0.3.1/transition.js"></script>
    <script src="libs/bs3compat-0.3.1/tabs.js"></script>
    <script src="libs/bs3compat-0.3.1/bs3compat.js"></script>
    <link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet" />
    <script src="libs/bs4_book-1.0.0/bs4_book.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-141212623-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-141212623-1');
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script>

  <!-- CSS -->
  
</head>

<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book">
    <a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Earth Engine with R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
      </form>

      <nav aria-label="Table of contents">
        <h2>Table of contents</h2>
        <div id="book-toc"></div>

        <div class="book-extra">
          <p><a id="book-repo" href="#">View book source <i class="fab fa-github"></i></a></li></p>
        </div>
      </nav>
    </div>
  </header>

  <main class="col-sm-12 col-md-9 col-lg-7" id="content">
<div id="r-and-python-requirements" class="section level1 unnumbered">
<h1>R and Python requirements</h1>
<p><code>rgee</code> requires both R and Python third-party packages, making the installation a
little tricky. Installation of R packages should be simple thanks to <a href="https://cran.r-project.org/bin/windows/Rtools/rtools40.html">Rtools</a>.</p>
<p>Install from CRAN with:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="r-and-python-requirements.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;rgee&quot;</span>)</span></code></pre></div>
<p>Install the development versions from github with</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="r-and-python-requirements.html#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(remotes)</span>
<span id="cb111-2"><a href="r-and-python-requirements.html#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install_github</span>(<span class="st">&quot;r-spatial/rgee&quot;</span>)</span></code></pre></div>
<p>However, certain issues may arise when users try to set up a Python environment. In a
nutshell, <code>rgee</code> Python requirements are:</p>
<ol style="list-style-type: decimal">
<li>A Python environment (PYENV).</li>
<li>Install in that PYENV: <a href="https://pypi.org/project/numpy/">numpy</a> and <a href="https://pypi.org/project/earthengine-api/">earthengine-api</a></li>
</ol>
<p>The <a href="https://r-spatial.github.io/rgee/reference/ee_install.html"><strong><code>ee_install</code></strong></a> built-in function is
best way to set up the previous Python prerequisite. In short, it performs the following tasks: (1) create a Python environment, (2) Set an environment variable named “EARTHENGINE PYTHON” that saves your Python interpreter path in your global <a href="https://cran.r-project.org/web/packages/startup/vignettes/startup-intro.html">.Renviron</a> (it will let rgee where to search the next time you try to initialize Earth Engine), and (3) install the requirements in the previously created environment. Users who want to utilize their own Python environment may alternatively run:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="r-and-python-requirements.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co"># IMPORTANT: Change &#39;py_path&#39; argument for your own Python PATH</span></span>
<span id="cb112-2"><a href="r-and-python-requirements.html#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ee_install_set_pyenv</span>(</span>
<span id="cb112-3"><a href="r-and-python-requirements.html#cb112-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">py_path =</span> <span class="st">&quot;/home/pc-user01/.virtualenvs/rgee/bin/python&quot;</span>,</span>
<span id="cb112-4"><a href="r-and-python-requirements.html#cb112-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">py_env =</span> <span class="st">&quot;rgee&quot;</span> <span class="co"># Change it for your own Python ENV</span></span>
<span id="cb112-5"><a href="r-and-python-requirements.html#cb112-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><strong>After executing the code above, it is critical that you restart your R session (people who use Windows may need to terminate Rstudio instead)</strong>. Note that the PYENV you set must have the Earth Engine Python API and numpy installed. The use of <strong>miniconda/anaconda is mandatory for Windows users,</strong> Linux and MacOS users could also use virtualenv. See <a href="https://rstudio.github.io/reticulate/articles/python_packages.html">reticulate</a> documentation for more details.</p>
<p>Another option, accessible exclusively on MacOS and Linux, is to simply modify the Python PATH variable:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="r-and-python-requirements.html#cb113-1" aria-hidden="true" tabindex="-1"></a>rgee<span class="sc">::</span><span class="fu">ee_install_set_pyenv</span>(</span>
<span id="cb113-2"><a href="r-and-python-requirements.html#cb113-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">py_path =</span> <span class="st">&quot;/usr/bin/python3&quot;</span>,</span>
<span id="cb113-3"><a href="r-and-python-requirements.html#cb113-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">py_env =</span> <span class="cn">NULL</span></span>
<span id="cb113-4"><a href="r-and-python-requirements.html#cb113-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>However, <a href="https://r-spatial.github.io/rgee/reference/ee_install_upgrade.html"><strong>rgee::ee_install_upgrade</strong></a> and <a href="https://rstudio.github.io/reticulate/reference/py_install.html"><strong>reticulate::py_install</strong></a> will not work until you set a Python ENV. Your R session may need to be terminated after the installation process.</p>
<div id="rgee-initialization" class="section level2 unnumbered">
<h2>rgee Initialization</h2>
<p>After installing both the R and Python requirements, users can now initialize Earth Engine. Take into account that R, in contrast to Javascript and Python, supports three distinct Google APIs:</p>
<ul>
<li>Google Earth Engine</li>
<li><a href="https://googledrive.tidyverse.org/">Google Drive</a></li>
<li><a href="https://code.markedmondson.me/googleCloudStorageR/">Google Cloud Storage</a></li>
</ul>
<p>The Google Drive and Google Cloud Storage APIs will help you to seamlessly transfer your finished EE task results to a local environment. Use the following instructions to establish your GEE account in conjunction with Google Drive or Google Cloud Storage:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="r-and-python-requirements.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rgee)</span>
<span id="cb114-2"><a href="r-and-python-requirements.html#cb114-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-3"><a href="r-and-python-requirements.html#cb114-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize just Earth Engine</span></span>
<span id="cb114-4"><a href="r-and-python-requirements.html#cb114-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ee_Initialize</span>()</span>
<span id="cb114-5"><a href="r-and-python-requirements.html#cb114-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-6"><a href="r-and-python-requirements.html#cb114-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize Earth Engine and GD</span></span>
<span id="cb114-7"><a href="r-and-python-requirements.html#cb114-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ee_Initialize</span>(<span class="at">drive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb114-8"><a href="r-and-python-requirements.html#cb114-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-9"><a href="r-and-python-requirements.html#cb114-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize Earth Engine and GCS</span></span>
<span id="cb114-10"><a href="r-and-python-requirements.html#cb114-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ee_Initialize</span>(<span class="at">gcs =</span> <span class="cn">TRUE</span>)</span>
<span id="cb114-11"><a href="r-and-python-requirements.html#cb114-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-12"><a href="r-and-python-requirements.html#cb114-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize Earth Engine, GD and GCS</span></span>
<span id="cb114-13"><a href="r-and-python-requirements.html#cb114-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ee_Initialize</span>(<span class="at">drive =</span> <span class="cn">TRUE</span>, <span class="at">gcs =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>After verifying your Google account and granting permission, you will be led to an authentication token. This token should be copied and pasted into your R terminal. Please consider that the Google Cloud Storage credential must be associated to a services account key. For further details, see this rgee <a href="https://r-spatial.github.io/rgee/articles/rgee05.html">vignette</a>. The verification process is only necessary once; after that, rgee keeps the credentials in your system so you do not have to do it again.</p>
</div>
</div>
  </main>

  <div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page">
      <h2>On this page</h2>
      <div id="book-on-this-page"></div>

      <div class="book-extra">
        <ul class="list-unstyled">
          <li><a id="book-source" href="#">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="#">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
      </div>
    </nav>
  </div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5">
  <div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Earth Engine with R</strong>" was written by rgee team. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
<script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>

</html>
